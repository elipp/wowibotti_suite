var it=Object.defineProperty;var ct=(e,t,n)=>t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(ct(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(c){if(c.ep)return;c.ep=!0;const r=n(c);fetch(c.href,r)}})();function k(){}const Xe=e=>e;function st(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Ze(e){return e()}function ze(){return Object.create(null)}function M(e){e.forEach(Ze)}function he(e){return typeof e=="function"}function le(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let se;function Ie(e,t){return e===t?!0:(se||(se=document.createElement("a")),se.href=t,e===se.href)}function ot(e){return Object.keys(e).length===0}function ut(e,...t){if(e==null){for(const l of t)l(void 0);return k}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ft(e,t,n){e.$$.on_destroy.push(ut(t,n))}const xe=typeof window<"u";let at=xe?()=>window.performance.now():()=>Date.now(),Pe=xe?e=>requestAnimationFrame(e):k;const Y=new Set;function et(e){Y.forEach(t=>{t.c(e)||(Y.delete(t),t.f())}),Y.size!==0&&Pe(et)}function dt(e){let t;return Y.size===0&&Pe(et),{promise:new Promise(n=>{Y.add(t={c:e,f:n})}),abort(){Y.delete(t)}}}function _(e,t){e.appendChild(t)}function tt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ht(e){const t=p("style");return t.textContent="/* empty */",_t(tt(e),t),t.sheet}function _t(e,t){return _(e.head||e,t),t.sheet}function $(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function Le(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function T(e){return document.createTextNode(e)}function N(){return T(" ")}function nt(){return T("")}function Ee(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function pt(e){return function(t){return t.preventDefault(),e.call(this,t)}}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function mt(e){return Array.from(e.childNodes)}function re(e,t){t=""+t,e.data!==t&&(e.data=t)}function gt(e,t,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:l})}const ue=new Map;let fe=0;function bt(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function $t(e,t){const n={stylesheet:ht(t),rules:{}};return ue.set(e,n),n}function Be(e,t,n,l,c,r,i,o=0){const s=16.666/l;let u=`{
`;for(let S=0;S<=1;S+=s){const R=t+(n-t)*r(S);u+=S*100+`%{${i(R,1-R)}}
`}const f=u+`100% {${i(n,1-n)}}
}`,a=`__svelte_${bt(f)}_${o}`,v=tt(e),{stylesheet:E,rules:h}=ue.get(v)||$t(v,e);h[a]||(h[a]=!0,E.insertRule(`@keyframes ${a} ${f}`,E.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${a} ${l}ms linear ${c}ms 1 both`,fe+=1,a}function vt(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),c=n.length-l.length;c&&(e.style.animation=l.join(", "),fe-=c,fe||yt())}function yt(){Pe(()=>{fe||(ue.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&m(t)}),ue.clear())})}let ne;function q(e){ne=e}function wt(){if(!ne)throw new Error("Function called outside component initialization");return ne}const W=[],je=[];let V=[];const Ce=[],kt=Promise.resolve();let Oe=!1;function Et(){Oe||(Oe=!0,kt.then(Ae))}function G(e){V.push(e)}function jt(e){Ce.push(e)}const ye=new Set;let K=0;function Ae(){if(K!==0)return;const e=ne;do{try{for(;K<W.length;){const t=W[K];K++,q(t),Ct(t.$$)}}catch(t){throw W.length=0,K=0,t}for(q(null),W.length=0,K=0;je.length;)je.pop()();for(let t=0;t<V.length;t+=1){const n=V[t];ye.has(n)||(ye.add(n),n())}V.length=0}while(W.length);for(;Ce.length;)Ce.pop()();Oe=!1,ye.clear(),q(e)}function Ct(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}function Ot(e){const t=[],n=[];V.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),V=t}let x;function St(){return x||(x=Promise.resolve(),x.then(()=>{x=null})),x}function we(e,t,n){e.dispatchEvent(gt(`${t?"intro":"outro"}${n}`))}const oe=new Set;let D;function ee(){D={r:0,c:[],p:D}}function te(){D.r||M(D.c),D=D.p}function O(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function L(e,t,n,l){if(e&&e.o){if(oe.has(e))return;oe.add(e),D.c.push(()=>{oe.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const Nt={duration:0};function ae(e,t,n,l){let r=t(e,n,{direction:"both"}),i=l?0:1,o=null,s=null,u=null,f;function a(){u&&vt(e,u)}function v(h,y){const S=h.b-i;return y*=Math.abs(S),{a:i,b:h.b,d:S,duration:y,start:h.start,end:h.start+y,group:h.group}}function E(h){const{delay:y=0,duration:S=300,easing:R=Xe,tick:z=k,css:A}=r||Nt,H={start:at()+y,b:h};h||(H.group=D,D.r+=1),"inert"in e&&(h?f!==void 0&&(e.inert=f):(f=e.inert,e.inert=!0)),o||s?s=H:(A&&(a(),u=Be(e,i,h,S,y,R,A)),h&&z(0,1),o=v(H,S),G(()=>we(e,h,"start")),dt(I=>{if(s&&I>s.start&&(o=v(s,S),s=null,we(e,o.b,"start"),A&&(a(),u=Be(e,i,o.b,o.duration,0,R,r.css))),o){if(I>=o.end)z(i=o.b,1-i),we(e,o.b,"end"),s||(o.b?a():--o.group.r||M(o.group.c)),o=null;else if(I>=o.start){const ie=I-o.start;i=o.a+o.d*R(ie/o.duration),z(i,1-i)}}return!!(o||s)}))}return{run(h){he(r)?St().then(()=>{r=r({direction:h?"in":"out"}),E(h)}):E(h)},end(){a(),o=s=null}}}function Pt(e,t){const n=t.token={};function l(c,r,i,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;i!==void 0&&(s=s.slice(),s[i]=o);const u=c&&(t.current=c)(s);let f=!1;t.block&&(t.blocks?t.blocks.forEach((a,v)=>{v!==r&&a&&(ee(),L(a,1,1,()=>{t.blocks[v]===a&&(t.blocks[v]=null)}),te())}):t.block.d(1),u.c(),O(u,1),u.m(t.mount(),t.anchor),f=!0),t.block=u,t.blocks&&(t.blocks[r]=u),f&&Ae()}if(st(e)){const c=wt();if(e.then(r=>{q(c),l(t.then,1,t.value,r),q(null)},r=>{if(q(c),l(t.catch,2,t.error,r),q(null),!t.hasCatch)throw r}),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}}function Lt(e,t,n){const l=t.slice(),{resolved:c}=e;e.current===e.then&&(l[e.value]=c),e.current===e.catch&&(l[e.error]=c),e.block.p(l,n)}function Q(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function At(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function Re(e){e&&e.c()}function _e(e,t,n){const{fragment:l,after_update:c}=e.$$;l&&l.m(t,n),G(()=>{const r=e.$$.on_mount.map(Ze).filter(he);e.$$.on_destroy?e.$$.on_destroy.push(...r):M(r),e.$$.on_mount=[]}),c.forEach(G)}function pe(e,t){const n=e.$$;n.fragment!==null&&(Ot(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Rt(e,t){e.$$.dirty[0]===-1&&(W.push(e),Et(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(e,t,n,l,c,r,i=null,o=[-1]){const s=ne;q(e);const u=e.$$={fragment:null,ctx:[],props:r,update:k,not_equal:c,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:ze(),dirty:o,skip_bound:!1,root:t.target||s.$$.root};i&&i(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(a,v,...E)=>{const h=E.length?E[0]:v;return u.ctx&&c(u.ctx[a],u.ctx[a]=h)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](h),f&&Rt(e,a)),v}):[],u.update(),f=!0,M(u.before_update),u.fragment=l?l(u.ctx):!1,t.target){if(t.hydrate){const a=mt(t.target);u.fragment&&u.fragment.l(a),a.forEach(m)}else u.fragment&&u.fragment.c();t.intro&&O(e.$$.fragment),_e(e,t.target,t.anchor),Ae()}q(s)}class ge{constructor(){ve(this,"$$");ve(this,"$$set")}$destroy(){pe(this,1),this.$destroy=k}$on(t,n){if(!he(n))return k;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const c=l.indexOf(n);c!==-1&&l.splice(c,1)}}$set(t){this.$$set&&!ot(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tt);function de(e,{delay:t=0,duration:n=400,easing:l=Xe}={}){const c=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:l,css:r=>`opacity: ${r*c}`}}function qt(e){let t,n,l,c,r,i,o,s=e[0].name+"",u,f,a,v,E;return{c(){t=p("div"),n=p("label"),l=p("img"),i=N(),o=p("span"),u=T(s),f=N(),a=p("input"),Ie(l.src,c=`${e[0].class}.png`)||b(l,"src",c),b(l,"alt",r=e[0].class),b(l,"class","svelte-1t36vb"),b(n,"for",e[2]),b(n,"class","svelte-1t36vb"),b(a,"type","checkbox"),b(a,"id",e[2]),b(a,"name",e[2]),b(t,"class","svelte-1t36vb")},m(h,y){$(h,t,y),_(t,n),_(n,l),_(n,i),_(n,o),_(o,u),_(t,f),_(t,a),v||(E=Ee(a,"change",function(){he(e[1])&&e[1].apply(this,arguments)}),v=!0)},p(h,[y]){e=h,y&1&&!Ie(l.src,c=`${e[0].class}.png`)&&b(l,"src",c),y&1&&r!==(r=e[0].class)&&b(l,"alt",r),y&1&&s!==(s=e[0].name+"")&&re(u,s)},i:k,o:k,d(h){h&&m(t),v=!1,E()}}}function Dt(e,t,n){let{character:l}=t;const c=`character-${l.name}`;let{onchange:r}=t;return e.$$set=i=>{"character"in i&&n(0,l=i.character),"onchange"in i&&n(1,r=i.onchange)},[l,r,c]}class zt extends ge{constructor(t){super(),me(this,t,Dt,qt,le,{character:0,onchange:1})}}function Fe(e,t,n){const l=e.slice();return l[3]=t[n],l}function Me(e){let t,n;return t=new zt({props:{character:e[3],onchange:e[1]}}),{c(){Re(t.$$.fragment)},m(l,c){_e(t,l,c),n=!0},p(l,c){const r={};c&1&&(r.character=l[3]),t.$set(r)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){pe(t,l)}}}function It(e){let t,n,l,c,r=Q(e[0].characters),i=[];for(let s=0;s<r.length;s+=1)i[s]=Me(Fe(e,r,s));const o=s=>L(i[s],1,1,()=>{i[s]=null});return{c(){t=p("h4"),t.textContent="Select characters",n=N(),l=p("div");for(let s=0;s<i.length;s+=1)i[s].c();b(l,"class","characters svelte-chrlhp")},m(s,u){$(s,t,u),$(s,n,u),$(s,l,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(l,null);c=!0},p(s,[u]){if(u&3){r=Q(s[0].characters);let f;for(f=0;f<r.length;f+=1){const a=Fe(s,r,f);i[f]?(i[f].p(a,u),O(i[f],1)):(i[f]=Me(a),i[f].c(),O(i[f],1),i[f].m(l,null))}for(ee(),f=r.length;f<i.length;f+=1)o(f);te()}},i(s){if(!c){for(let u=0;u<r.length;u+=1)O(i[u]);c=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)L(i[u]);c=!1},d(s){s&&(m(t),m(n),m(l)),Le(i,s)}}}function Bt(e,t,n){let{config:l}=t,{num_selected:c=0}=t;function r(i){i.target.checked?n(2,c+=1):n(2,c-=1)}return e.$$set=i=>{"config"in i&&n(0,l=i.config),"num_selected"in i&&n(2,c=i.num_selected)},[l,r,c]}class Ft extends ge{constructor(t){super(),me(this,t,Bt,It,le,{config:0,num_selected:2})}}const U=[];function Mt(e,t=k){let n;const l=new Set;function c(o){if(le(e,o)&&(e=o,n)){const s=!U.length;for(const u of l)u[1](),U.push(u,e);if(s){for(let u=0;u<U.length;u+=2)U[u][0](U[u+1]);U.length=0}}}function r(o){c(o(e))}function i(o,s=k){const u=[o,s];return l.add(u),l.size===1&&(n=t(c,r)||k),o(e),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:c,update:r,subscribe:i}}const Se=Mt(void 0);let ke;function He(e){Se.set({error:e}),ke!==void 0&&clearTimeout(ke),ke=setTimeout(()=>Se.set(void 0),5e3)}const Ne="http://127.0.0.1:7070";function Ht(e){let t,n,l,c,r,i,o,s=e[0].name+"",u;return{c(){t=p("div"),n=N(),l=p("input"),r=N(),i=p("label"),o=p("span"),u=T(s),b(l,"type","checkbox"),b(l,"id",e[1]),b(l,"name",e[1]),l.checked=c=e[0].enabled_by_default,b(l,"class","svelte-o59aq4"),b(o,"class","monospace"),b(i,"for",e[1]),b(i,"class","svelte-o59aq4")},m(f,a){$(f,t,a),$(f,n,a),$(f,l,a),$(f,r,a),$(f,i,a),_(i,o),_(o,u)},p(f,[a]){a&1&&c!==(c=f[0].enabled_by_default)&&(l.checked=c),a&1&&s!==(s=f[0].name+"")&&re(u,s)},i:k,o:k,d(f){f&&(m(t),m(n),m(l),m(r),m(i))}}}function Jt(e,t,n){let{config:l}=t;const c=`patch-${l.name}`;return e.$$set=r=>{"config"in r&&n(0,l=r.config)},[l,c]}class Kt extends ge{constructor(t){super(),me(this,t,Jt,Ht,le,{config:0})}}function Je(e){e[7]=e[8].result}function Ke(e,t,n){const l=e.slice();return l[9]=t[n],l}function Ue(e,t,n){const l=e.slice();return l[12]=t[n],l}function Ut(e){let t;return{c(){t=p("div"),t.textContent=`${e[15]}`},m(n,l){$(n,t,l)},p:k,i:k,o:k,d(n){n&&m(t)}}}function Wt(e){Je(e);let t,n,l,c,r,i,o,s,u,f,a,v,E,h,y,S,R,z,A,H,I,ie,ce,be,X,Z,J,$e,Te;function lt(d){e[6](d)}let qe={config:e[7]};e[0]!==void 0&&(qe.num_selected=e[0]),l=new Ft({props:qe}),je.push(()=>At(l,"num_selected",lt));let B=Q(e[7].available_patches),w=[];for(let d=0;d<B.length;d+=1)w[d]=We(Ue(e,B,d));const rt=d=>L(w[d],1,1,()=>{w[d]=null});let j=e[1].show_result&&Ye(e),C=e[2]!==void 0&&Ge(e);return{c(){t=p("div"),n=p("form"),Re(l.$$.fragment),r=N(),i=p("h4"),i.textContent="Select patches",o=N(),s=p("div"),u=p("div"),f=N(),a=p("input"),v=N(),E=p("div"),E.innerHTML='<span class="monospace">EndScene_hook</span> <i>(Always enabled)</i>',h=N();for(let d=0;d<w.length;d+=1)w[d].c();y=N(),S=p("input"),R=N(),z=p("div"),A=p("button"),H=T("Launch "),I=T(e[0]),ie=T(" client(s)"),be=N(),j&&j.c(),X=N(),C&&C.c(),Z=nt(),b(a,"type","checkbox"),a.disabled=!0,a.checked=!0,b(E,"class","text-align-left"),b(s,"class","patch-select svelte-1igztr2"),b(S,"type","submit"),S.value="Inject",b(t,"class","form-container svelte-1igztr2"),A.disabled=ce=e[0]<1},m(d,g){$(d,t,g),_(t,n),_e(l,n,null),_(n,r),_(n,i),_(n,o),_(n,s),_(s,u),_(s,f),_(s,a),_(s,v),_(s,E),_(s,h);for(let F=0;F<w.length;F+=1)w[F]&&w[F].m(s,null);_(n,y),_(n,S),$(d,R,g),$(d,z,g),_(z,A),_(A,H),_(A,I),_(A,ie),$(d,be,g),j&&j.m(d,g),$(d,X,g),C&&C.m(d,g),$(d,Z,g),J=!0,$e||(Te=[Ee(n,"submit",pt(e[4])),Ee(A,"click",e[3])],$e=!0)},p(d,g){Je(d);const F={};if(!c&&g&1&&(c=!0,F.num_selected=d[0],jt(()=>c=!1)),l.$set(F),g&0){B=Q(d[7].available_patches);let P;for(P=0;P<B.length;P+=1){const De=Ue(d,B,P);w[P]?(w[P].p(De,g),O(w[P],1)):(w[P]=We(De),w[P].c(),O(w[P],1),w[P].m(s,null))}for(ee(),P=B.length;P<w.length;P+=1)rt(P);te()}(!J||g&1)&&re(I,d[0]),(!J||g&1&&ce!==(ce=d[0]<1))&&(A.disabled=ce),d[1].show_result?j?(j.p(d,g),g&2&&O(j,1)):(j=Ye(d),j.c(),O(j,1),j.m(X.parentNode,X)):j&&(ee(),L(j,1,1,()=>{j=null}),te()),d[2]!==void 0?C?(C.p(d,g),g&4&&O(C,1)):(C=Ge(d),C.c(),O(C,1),C.m(Z.parentNode,Z)):C&&(ee(),L(C,1,1,()=>{C=null}),te())},i(d){if(!J){O(l.$$.fragment,d);for(let g=0;g<B.length;g+=1)O(w[g]);O(j),O(C),J=!0}},o(d){L(l.$$.fragment,d),w=w.filter(Boolean);for(let g=0;g<w.length;g+=1)L(w[g]);L(j),L(C),J=!1},d(d){d&&(m(t),m(R),m(z),m(be),m(X),m(Z)),pe(l),Le(w,d),j&&j.d(d),C&&C.d(d),$e=!1,M(Te)}}}function We(e){let t,n;return t=new Kt({props:{config:e[12]}}),{c(){Re(t.$$.fragment)},m(l,c){_e(t,l,c),n=!0},p:k,i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){pe(t,l)}}}function Ye(e){let t,n,l;function c(o,s){return o[1].clients.length>0?Vt:Yt}let r=c(e),i=r(e);return{c(){t=p("div"),i.c(),b(t,"class","injection-result svelte-1igztr2")},m(o,s){$(o,t,s),i.m(t,null),l=!0},p(o,s){r===(r=c(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(t,null)))},i(o){l||(o&&G(()=>{l&&(n||(n=ae(t,de,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=ae(t,de,{},!1)),n.run(0)),l=!1},d(o){o&&m(t),i.d(),o&&n&&n.end()}}}function Yt(e){let t;return{c(){t=p("p"),t.textContent="No clients were injected!"},m(n,l){$(n,t,l)},p:k,d(n){n&&m(t)}}}function Vt(e){let t,n,l,c=Q(e[1].clients),r=[];for(let i=0;i<c.length;i+=1)r[i]=Ve(Ke(e,c,i));return{c(){t=p("h3"),t.textContent="Successfully injected dll to:",n=N();for(let i=0;i<r.length;i+=1)r[i].c();l=nt()},m(i,o){$(i,t,o),$(i,n,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);$(i,l,o)},p(i,o){if(o&2){c=Q(i[1].clients);let s;for(s=0;s<c.length;s+=1){const u=Ke(i,c,s);r[s]?r[s].p(u,o):(r[s]=Ve(u),r[s].c(),r[s].m(l.parentNode,l))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}},d(i){i&&(m(t),m(n),m(l)),Le(r,i)}}}function Ve(e){let t,n,l=e[9].pid+"",c;return{c(){t=p("p"),n=T("Pid: "),c=T(l)},m(r,i){$(r,t,i),_(t,n),_(t,c)},p(r,i){i&2&&l!==(l=r[9].pid+"")&&re(c,l)},d(r){r&&m(t)}}}function Ge(e){let t,n,l,c=e[2].error&&Qe(e);return{c(){t=p("div"),c&&c.c(),b(t,"class","error-display")},m(r,i){$(r,t,i),c&&c.m(t,null),l=!0},p(r,i){r[2].error?c?c.p(r,i):(c=Qe(r),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(r){l||(r&&G(()=>{l&&(n||(n=ae(t,de,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=ae(t,de,{},!1)),n.run(0)),l=!1},d(r){r&&m(t),c&&c.d(),r&&n&&n.end()}}}function Qe(e){let t,n=e[2].error+"",l;return{c(){t=p("p"),l=T(n)},m(c,r){$(c,t,r),_(t,l)},p(c,r){r&4&&n!==(n=c[2].error+"")&&re(l,n)},d(c){c&&m(t)}}}function Gt(e){let t;return{c(){t=p("div"),t.textContent="Loading config..."},m(n,l){$(n,t,l)},p:k,i:k,o:k,d(n){n&&m(t)}}}function Qt(e){let t,n,l,c,r={ctx:e,current:null,token:null,hasCatch:!0,pending:Gt,then:Wt,catch:Ut,value:8,error:15,blocks:[,,,]};return Pt(fetch(`${Ne}/config`).then(e[5]),r),{c(){t=p("main"),n=p("h1"),n.textContent="wowibotti_suite: Injector :D",l=N(),r.block.c()},m(i,o){$(i,t,o),_(t,n),_(t,l),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null,c=!0},p(i,[o]){e=i,Lt(r,e,o)},i(i){c||(O(r.block),c=!0)},o(i){for(let o=0;o<3;o+=1){const s=r.blocks[o];L(s)}c=!1},d(i){i&&m(t),r.block.d(),r.token=null,r=null}}}function Xt(e,t,n){let l;ft(e,Se,f=>n(2,l=f));let c=0;async function r(){if(c>0){let f=await fetch(`${Ne}/launch`,{method:"POST",body:JSON.stringify({num_clients:c})});const a=await f.json();f.ok||He(a.details)}}let i={show_result:!1,clients:[],timeout:void 0};async function o(f){const a={enabled_characters:[],enabled_patches:[]};for(const[h,y]of new FormData(f.target).entries())h.startsWith("character-")&&y==="on"&&a.enabled_characters.push(h.slice(10)),h.startsWith("patch-")&&y==="on"&&a.enabled_patches.push(h.slice(6));let v=await fetch(`${Ne}/inject`,{method:"POST",body:JSON.stringify(a)}),E=await v.json();v.ok?(i.timeout&&clearTimeout(i.timeout),n(1,i={clients:E.clients,timeout:setTimeout(()=>n(1,i={clients:[],timeout:void 0,show_result:!1}),5e3),show_result:!0})):He({error:`injection failed: ${E.details}`})}const s=async f=>{const a=await f.json();if(f.ok)return Promise.resolve(a);throw new Error(`Fetching config failed: HTTP ${f.status}: ${a.details}`)};function u(f){c=f,n(0,c)}return[c,i,l,r,o,s,u]}class Zt extends ge{constructor(t){super(),me(this,t,Xt,Qt,le,{})}}new Zt({target:document.getElementById("app")});
