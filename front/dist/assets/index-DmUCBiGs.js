var xe=Object.defineProperty;var et=(e,t,n)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>(et(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(c){if(c.ep)return;c.ep=!0;const l=n(c);fetch(c.href,l)}})();function E(){}const We=e=>e;function tt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Ye(e){return e()}function Le(){return Object.create(null)}function J(e){e.forEach(Ye)}function ue(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let re;function Ae(e,t){return e===t?!0:(re||(re=document.createElement("a")),re.href=t,e===re.href)}function nt(e){return Object.keys(e).length===0}function rt(e,...t){if(e==null){for(const r of t)r(void 0);return E}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function lt(e,t,n){e.$$.on_destroy.push(rt(t,n))}const He=typeof window<"u";let it=He?()=>window.performance.now():()=>Date.now(),Ee=He?e=>requestAnimationFrame(e):E;const Y=new Set;function Ve(e){Y.forEach(t=>{t.c(e)||(Y.delete(t),t.f())}),Y.size!==0&&Ee(Ve)}function ct(e){let t;return Y.size===0&&Ee(Ve),{promise:new Promise(n=>{Y.add(t={c:e,f:n})}),abort(){Y.delete(t)}}}function b(e,t){e.appendChild(t)}function Ge(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function st(e){const t=_("style");return t.textContent="/* empty */",ot(Ge(e),t),t.sheet}function ot(e,t){return b(e.head||e,t),t.sheet}function g(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function je(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function q(e){return document.createTextNode(e)}function L(){return q(" ")}function Qe(){return q("")}function be(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function ut(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ft(e){return Array.from(e.childNodes)}function ne(e,t){t=""+t,e.data!==t&&(e.data=t)}function at(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const ie=new Map;let ce=0;function dt(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ht(e,t){const n={stylesheet:st(t),rules:{}};return ie.set(e,n),n}function Re(e,t,n,r,c,l,i,o=0){const s=16.666/r;let u=`{
`;for(let N=0;N<=1;N+=s){const A=t+(n-t)*l(N);u+=N*100+`%{${i(A,1-A)}}
`}const f=u+`100% {${i(n,1-n)}}
}`,a=`__svelte_${dt(f)}_${o}`,$=Ge(e),{stylesheet:y,rules:h}=ie.get($)||ht($,e);h[a]||(h[a]=!0,y.insertRule(`@keyframes ${a} ${f}`,y.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${a} ${r}ms linear ${c}ms 1 both`,ce+=1,a}function _t(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?l=>l.indexOf(t)<0:l=>l.indexOf("__svelte")===-1),c=n.length-r.length;c&&(e.style.animation=r.join(", "),ce-=c,ce||pt())}function pt(){Ee(()=>{ce||(ie.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&p(t)}),ie.clear())})}let ee;function I(e){ee=e}function mt(){if(!ee)throw new Error("Function called outside component initialization");return ee}const W=[],$e=[];let H=[];const ye=[],gt=Promise.resolve();let ve=!1;function bt(){ve||(ve=!0,gt.then(Ce))}function V(e){H.push(e)}function $t(e){ye.push(e)}const pe=new Set;let K=0;function Ce(){if(K!==0)return;const e=ee;do{try{for(;K<W.length;){const t=W[K];K++,I(t),yt(t.$$)}}catch(t){throw W.length=0,K=0,t}for(I(null),W.length=0,K=0;$e.length;)$e.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];pe.has(n)||(pe.add(n),n())}H.length=0}while(W.length);for(;ye.length;)ye.pop()();ve=!1,pe.clear(),I(e)}function yt(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}function vt(e){const t=[],n=[];H.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),H=t}let X;function wt(){return X||(X=Promise.resolve(),X.then(()=>{X=null})),X}function me(e,t,n){e.dispatchEvent(at(`${t?"intro":"outro"}${n}`))}const le=new Set;let B;function Z(){B={r:0,c:[],p:B}}function x(){B.r||J(B.c),B=B.p}function O(e,t){e&&e.i&&(le.delete(e),e.i(t))}function P(e,t,n,r){if(e&&e.o){if(le.has(e))return;le.add(e),B.c.push(()=>{le.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const kt={duration:0};function se(e,t,n,r){let l=t(e,n,{direction:"both"}),i=r?0:1,o=null,s=null,u=null,f;function a(){u&&_t(e,u)}function $(h,v){const N=h.b-i;return v*=Math.abs(N),{a:i,b:h.b,d:N,duration:v,start:h.start,end:h.start+v,group:h.group}}function y(h){const{delay:v=0,duration:N=300,easing:A=We,tick:z=E,css:D}=l||kt,T={start:it()+v,b:h};h||(T.group=B,B.r+=1),"inert"in e&&(h?f!==void 0&&(e.inert=f):(f=e.inert,e.inert=!0)),o||s?s=T:(D&&(a(),u=Re(e,i,h,N,v,A,D)),h&&z(0,1),o=$(T,N),V(()=>me(e,h,"start")),ct(R=>{if(s&&R>s.start&&(o=$(s,N),s=null,me(e,o.b,"start"),D&&(a(),u=Re(e,i,o.b,o.duration,0,A,l.css))),o){if(R>=o.end)z(i=o.b,1-i),me(e,o.b,"end"),s||(o.b?a():--o.group.r||J(o.group.c)),o=null;else if(R>=o.start){const Q=R-o.start;i=o.a+o.d*A(Q/o.duration),z(i,1-i)}}return!!(o||s)}))}return{run(h){ue(l)?wt().then(()=>{l=l({direction:h?"in":"out"}),y(h)}):y(h)},end(){a(),o=s=null}}}function Et(e,t){const n=t.token={};function r(c,l,i,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;i!==void 0&&(s=s.slice(),s[i]=o);const u=c&&(t.current=c)(s);let f=!1;t.block&&(t.blocks?t.blocks.forEach((a,$)=>{$!==l&&a&&(Z(),P(a,1,1,()=>{t.blocks[$]===a&&(t.blocks[$]=null)}),x())}):t.block.d(1),u.c(),O(u,1),u.m(t.mount(),t.anchor),f=!0),t.block=u,t.blocks&&(t.blocks[l]=u),f&&Ce()}if(tt(e)){const c=mt();if(e.then(l=>{I(c),r(t.then,1,t.value,l),I(null)},l=>{if(I(c),r(t.catch,2,t.error,l),I(null),!t.hasCatch)throw l}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function jt(e,t,n){const r=t.slice(),{resolved:c}=e;e.current===e.then&&(r[e.value]=c),e.current===e.catch&&(r[e.error]=c),e.block.p(r,n)}function G(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ct(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Oe(e){e&&e.c()}function fe(e,t,n){const{fragment:r,after_update:c}=e.$$;r&&r.m(t,n),V(()=>{const l=e.$$.on_mount.map(Ye).filter(ue);e.$$.on_destroy?e.$$.on_destroy.push(...l):J(l),e.$$.on_mount=[]}),c.forEach(V)}function ae(e,t){const n=e.$$;n.fragment!==null&&(vt(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ot(e,t){e.$$.dirty[0]===-1&&(W.push(e),bt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(e,t,n,r,c,l,i=null,o=[-1]){const s=ee;I(e);const u=e.$$={fragment:null,ctx:[],props:l,update:E,not_equal:c,bound:Le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Le(),dirty:o,skip_bound:!1,root:t.target||s.$$.root};i&&i(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(a,$,...y)=>{const h=y.length?y[0]:$;return u.ctx&&c(u.ctx[a],u.ctx[a]=h)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](h),f&&Ot(e,a)),$}):[],u.update(),f=!0,J(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const a=ft(t.target);u.fragment&&u.fragment.l(a),a.forEach(p)}else u.fragment&&u.fragment.c();t.intro&&O(e.$$.fragment),fe(e,t.target,t.anchor),Ce()}I(s)}class he{constructor(){_e(this,"$$");_e(this,"$$set")}$destroy(){ae(this,1),this.$destroy=E}$on(t,n){if(!ue(n))return E;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const c=r.indexOf(n);c!==-1&&r.splice(c,1)}}$set(t){this.$$set&&!nt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const St="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(St);function oe(e,{delay:t=0,duration:n=400,easing:r=We}={}){const c=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:l=>`opacity: ${l*c}`}}function Nt(e){let t,n,r,c,l,i,o,s=e[0].name+"",u,f,a,$,y;return{c(){t=_("div"),n=_("label"),r=_("img"),i=L(),o=_("span"),u=q(s),f=L(),a=_("input"),Ae(r.src,c=`${e[0].class}.png`)||w(r,"src",c),w(r,"alt",l=e[0].class),w(r,"class","svelte-1t36vb"),w(n,"for",e[2]),w(n,"class","svelte-1t36vb"),w(a,"type","checkbox"),w(a,"id",e[2]),w(a,"name",e[2]),w(t,"class","svelte-1t36vb")},m(h,v){g(h,t,v),b(t,n),b(n,r),b(n,i),b(n,o),b(o,u),b(t,f),b(t,a),$||(y=be(a,"change",function(){ue(e[1])&&e[1].apply(this,arguments)}),$=!0)},p(h,[v]){e=h,v&1&&!Ae(r.src,c=`${e[0].class}.png`)&&w(r,"src",c),v&1&&l!==(l=e[0].class)&&w(r,"alt",l),v&1&&s!==(s=e[0].name+"")&&ne(u,s)},i:E,o:E,d(h){h&&p(t),$=!1,y()}}}function Pt(e,t,n){let{character:r}=t;const c=`character-${r.name}`;let{onchange:l}=t;return e.$$set=i=>{"character"in i&&n(0,r=i.character),"onchange"in i&&n(1,l=i.onchange)},[r,l,c]}class Lt extends he{constructor(t){super(),de(this,t,Pt,Nt,te,{character:0,onchange:1})}}function qe(e,t,n){const r=e.slice();return r[3]=t[n],r}function De(e){let t,n;return t=new Lt({props:{character:e[3],onchange:e[1]}}),{c(){Oe(t.$$.fragment)},m(r,c){fe(t,r,c),n=!0},p(r,c){const l={};c&1&&(l.character=r[3]),t.$set(l)},i(r){n||(O(t.$$.fragment,r),n=!0)},o(r){P(t.$$.fragment,r),n=!1},d(r){ae(t,r)}}}function At(e){let t,n,r,c,l=G(e[0].characters),i=[];for(let s=0;s<l.length;s+=1)i[s]=De(qe(e,l,s));const o=s=>P(i[s],1,1,()=>{i[s]=null});return{c(){t=_("h4"),t.textContent="Select characters",n=L(),r=_("div");for(let s=0;s<i.length;s+=1)i[s].c();w(r,"class","characters svelte-chrlhp")},m(s,u){g(s,t,u),g(s,n,u),g(s,r,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(r,null);c=!0},p(s,[u]){if(u&3){l=G(s[0].characters);let f;for(f=0;f<l.length;f+=1){const a=qe(s,l,f);i[f]?(i[f].p(a,u),O(i[f],1)):(i[f]=De(a),i[f].c(),O(i[f],1),i[f].m(r,null))}for(Z(),f=l.length;f<i.length;f+=1)o(f);x()}},i(s){if(!c){for(let u=0;u<l.length;u+=1)O(i[u]);c=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)P(i[u]);c=!1},d(s){s&&(p(t),p(n),p(r)),je(i,s)}}}function Rt(e,t,n){let{config:r}=t,{num_selected:c=0}=t;function l(i){i.target.checked?n(2,c+=1):n(2,c-=1)}return e.$$set=i=>{"config"in i&&n(0,r=i.config),"num_selected"in i&&n(2,c=i.num_selected)},[r,l,c]}class qt extends he{constructor(t){super(),de(this,t,Rt,At,te,{config:0,num_selected:2})}}const U=[];function Dt(e,t=E){let n;const r=new Set;function c(o){if(te(e,o)&&(e=o,n)){const s=!U.length;for(const u of r)u[1](),U.push(u,e);if(s){for(let u=0;u<U.length;u+=2)U[u][0](U[u+1]);U.length=0}}}function l(o){c(o(e))}function i(o,s=E){const u=[o,s];return r.add(u),r.size===1&&(n=t(c,l)||E),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:c,update:l,subscribe:i}}const we=Dt(void 0);let ge;function Te(e){we.set({error:e}),ge!==void 0&&clearTimeout(ge),ge=setTimeout(()=>we.set(void 0),5e3)}const ke="http://127.0.0.1:7070";function Tt(e){let t,n,r,c,l,i;return{c(){t=_("div"),n=L(),r=_("input"),c=L(),l=_("label"),i=q(e[0]),w(r,"type","checkbox"),w(r,"id",e[1]),w(r,"name",e[1]),r.checked=e[2],w(r,"class","svelte-78aaiq"),w(l,"for",e[1]),w(l,"class","svelte-78aaiq")},m(o,s){g(o,t,s),g(o,n,s),g(o,r,s),g(o,c,s),g(o,l,s),b(l,i)},p(o,[s]){s&1&&ne(i,o[0])},i:E,o:E,d(o){o&&(p(t),p(n),p(r),p(c),p(l))}}}function It(e,t,n){let{name:r}=t;const c=`patch-${r}`,l=r==="ClosePetStables__lop_exec";return e.$$set=i=>{"name"in i&&n(0,r=i.name)},[r,c,l]}class Bt extends he{constructor(t){super(),de(this,t,It,Tt,te,{name:0})}}function Ie(e){e[7]=e[8].result}function Be(e,t,n){const r=e.slice();return r[9]=t[n],r}function ze(e,t,n){const r=e.slice();return r[12]=t[n],r}function zt(e){let t;return{c(){t=_("div"),t.textContent=`${e[15]}`},m(n,r){g(n,t,r)},p:E,i:E,o:E,d(n){n&&p(t)}}}function Ft(e){Ie(e);let t,n,r,c,l,i,o,s,u,f,a,$,y,h,v,N,A,z,D,T,R,Q,Se;function Xe(d){e[6](d)}let Ne={config:e[7]};e[0]!==void 0&&(Ne.num_selected=e[0]),r=new qt({props:Ne}),$e.push(()=>Ct(r,"num_selected",Xe));let F=G(e[7].available_patches),k=[];for(let d=0;d<F.length;d+=1)k[d]=Fe(ze(e,F,d));const Ze=d=>P(k[d],1,1,()=>{k[d]=null});let j=e[1].show_result&&Me(e),C=e[2]!==void 0&&Ke(e);return{c(){t=_("div"),n=_("form"),Oe(r.$$.fragment),l=L(),i=_("h4"),i.textContent="Select patches",o=L(),s=_("div");for(let d=0;d<k.length;d+=1)k[d].c();u=L(),f=_("input"),a=L(),$=_("div"),y=_("button"),h=q("Launch "),v=q(e[0]),N=q(" client(s)"),z=L(),j&&j.c(),D=L(),C&&C.c(),T=Qe(),w(s,"class","patch-select svelte-1ay8ynb"),w(f,"type","submit"),f.value="Inject",w(t,"class","form-container svelte-1ay8ynb"),y.disabled=A=e[0]<1},m(d,m){g(d,t,m),b(t,n),fe(r,n,null),b(n,l),b(n,i),b(n,o),b(n,s);for(let M=0;M<k.length;M+=1)k[M]&&k[M].m(s,null);b(n,u),b(n,f),g(d,a,m),g(d,$,m),b($,y),b(y,h),b(y,v),b(y,N),g(d,z,m),j&&j.m(d,m),g(d,D,m),C&&C.m(d,m),g(d,T,m),R=!0,Q||(Se=[be(n,"submit",ut(e[4])),be(y,"click",e[3])],Q=!0)},p(d,m){Ie(d);const M={};if(!c&&m&1&&(c=!0,M.num_selected=d[0],$t(()=>c=!1)),r.$set(M),m&0){F=G(d[7].available_patches);let S;for(S=0;S<F.length;S+=1){const Pe=ze(d,F,S);k[S]?(k[S].p(Pe,m),O(k[S],1)):(k[S]=Fe(Pe),k[S].c(),O(k[S],1),k[S].m(s,null))}for(Z(),S=F.length;S<k.length;S+=1)Ze(S);x()}(!R||m&1)&&ne(v,d[0]),(!R||m&1&&A!==(A=d[0]<1))&&(y.disabled=A),d[1].show_result?j?(j.p(d,m),m&2&&O(j,1)):(j=Me(d),j.c(),O(j,1),j.m(D.parentNode,D)):j&&(Z(),P(j,1,1,()=>{j=null}),x()),d[2]!==void 0?C?(C.p(d,m),m&4&&O(C,1)):(C=Ke(d),C.c(),O(C,1),C.m(T.parentNode,T)):C&&(Z(),P(C,1,1,()=>{C=null}),x())},i(d){if(!R){O(r.$$.fragment,d);for(let m=0;m<F.length;m+=1)O(k[m]);O(j),O(C),R=!0}},o(d){P(r.$$.fragment,d),k=k.filter(Boolean);for(let m=0;m<k.length;m+=1)P(k[m]);P(j),P(C),R=!1},d(d){d&&(p(t),p(a),p($),p(z),p(D),p(T)),ae(r),je(k,d),j&&j.d(d),C&&C.d(d),Q=!1,J(Se)}}}function Fe(e){let t,n;return t=new Bt({props:{name:e[12]}}),{c(){Oe(t.$$.fragment)},m(r,c){fe(t,r,c),n=!0},p:E,i(r){n||(O(t.$$.fragment,r),n=!0)},o(r){P(t.$$.fragment,r),n=!1},d(r){ae(t,r)}}}function Me(e){let t,n,r;function c(o,s){return o[1].clients.length>0?Jt:Mt}let l=c(e),i=l(e);return{c(){t=_("div"),i.c(),w(t,"class","injection-result svelte-1ay8ynb")},m(o,s){g(o,t,s),i.m(t,null),r=!0},p(o,s){l===(l=c(o))&&i?i.p(o,s):(i.d(1),i=l(o),i&&(i.c(),i.m(t,null)))},i(o){r||(o&&V(()=>{r&&(n||(n=se(t,oe,{},!0)),n.run(1))}),r=!0)},o(o){o&&(n||(n=se(t,oe,{},!1)),n.run(0)),r=!1},d(o){o&&p(t),i.d(),o&&n&&n.end()}}}function Mt(e){let t;return{c(){t=_("p"),t.textContent="No clients were injected!"},m(n,r){g(n,t,r)},p:E,d(n){n&&p(t)}}}function Jt(e){let t,n,r,c=G(e[1].clients),l=[];for(let i=0;i<c.length;i+=1)l[i]=Je(Be(e,c,i));return{c(){t=_("h3"),t.textContent="Successfully injected dll to:",n=L();for(let i=0;i<l.length;i+=1)l[i].c();r=Qe()},m(i,o){g(i,t,o),g(i,n,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(i,o);g(i,r,o)},p(i,o){if(o&2){c=G(i[1].clients);let s;for(s=0;s<c.length;s+=1){const u=Be(i,c,s);l[s]?l[s].p(u,o):(l[s]=Je(u),l[s].c(),l[s].m(r.parentNode,r))}for(;s<l.length;s+=1)l[s].d(1);l.length=c.length}},d(i){i&&(p(t),p(n),p(r)),je(l,i)}}}function Je(e){let t,n,r=e[9].pid+"",c;return{c(){t=_("p"),n=q("Pid: "),c=q(r)},m(l,i){g(l,t,i),b(t,n),b(t,c)},p(l,i){i&2&&r!==(r=l[9].pid+"")&&ne(c,r)},d(l){l&&p(t)}}}function Ke(e){let t,n,r,c=e[2].error&&Ue(e);return{c(){t=_("div"),c&&c.c(),w(t,"class","error-display")},m(l,i){g(l,t,i),c&&c.m(t,null),r=!0},p(l,i){l[2].error?c?c.p(l,i):(c=Ue(l),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(l){r||(l&&V(()=>{r&&(n||(n=se(t,oe,{},!0)),n.run(1))}),r=!0)},o(l){l&&(n||(n=se(t,oe,{},!1)),n.run(0)),r=!1},d(l){l&&p(t),c&&c.d(),l&&n&&n.end()}}}function Ue(e){let t,n=e[2].error+"",r;return{c(){t=_("p"),r=q(n)},m(c,l){g(c,t,l),b(t,r)},p(c,l){l&4&&n!==(n=c[2].error+"")&&ne(r,n)},d(c){c&&p(t)}}}function Kt(e){let t;return{c(){t=_("div"),t.textContent="Loading config..."},m(n,r){g(n,t,r)},p:E,i:E,o:E,d(n){n&&p(t)}}}function Ut(e){let t,n,r,c,l={ctx:e,current:null,token:null,hasCatch:!0,pending:Kt,then:Ft,catch:zt,value:8,error:15,blocks:[,,,]};return Et(fetch(`${ke}/config`).then(e[5]),l),{c(){t=_("main"),n=_("h1"),n.textContent="wowibotti_suite: Injector :D",r=L(),l.block.c()},m(i,o){g(i,t,o),b(t,n),b(t,r),l.block.m(t,l.anchor=null),l.mount=()=>t,l.anchor=null,c=!0},p(i,[o]){e=i,jt(l,e,o)},i(i){c||(O(l.block),c=!0)},o(i){for(let o=0;o<3;o+=1){const s=l.blocks[o];P(s)}c=!1},d(i){i&&p(t),l.block.d(),l.token=null,l=null}}}function Wt(e,t,n){let r;lt(e,we,f=>n(2,r=f));let c=0;async function l(){if(c>0){let f=await fetch(`${ke}/launch`,{method:"POST",body:JSON.stringify({num_clients:c})});const a=await f.json();f.ok||Te(a.details)}}let i={show_result:!1,clients:[],timeout:void 0};async function o(f){const a={enabled_characters:[],enabled_patches:[]};for(const[h,v]of new FormData(f.target).entries())h.startsWith("character-")&&v==="on"&&a.enabled_characters.push(h.slice(10)),h.startsWith("patch-")&&v==="on"&&a.enabled_patches.push(h.slice(6));let $=await fetch(`${ke}/inject`,{method:"POST",body:JSON.stringify(a)}),y=await $.json();$.ok?(i.timeout&&clearTimeout(i.timeout),n(1,i={clients:y.clients,timeout:setTimeout(()=>n(1,i={clients:[],timeout:void 0,show_result:!1}),5e3),show_result:!0})):Te({error:`injection failed: ${y.details}`})}const s=async f=>{const a=await f.json();if(f.ok)return Promise.resolve(a);throw new Error(`Fetching config failed: HTTP ${f.status}: ${a.details}`)};function u(f){c=f,n(0,c)}return[c,i,r,l,o,s,u]}class Yt extends he{constructor(t){super(),de(this,t,Wt,Ut,te,{})}}new Yt({target:document.getElementById("app")});
